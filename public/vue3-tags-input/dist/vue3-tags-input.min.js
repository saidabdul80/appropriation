var Vue3TagsInput=function(e){"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var o,a,l,s=(o=function(e,t){var n,i,r,o,a,l,s,c;e.exports=(n="__v-click-outside",i="undefined"!=typeof window,r="undefined"!=typeof navigator,o=i&&("ontouchstart"in window||r&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],a=function(e){var t=e.event,n=e.handler;(0,e.middleware)(t)&&n(t)},l=function(e,t){var i=function(e){var t="function"==typeof e;if(!t&&"object"!=typeof e)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,middleware:e.middleware||function(e){return e},events:e.events||o,isActive:!(!1===e.isActive),detectIframe:!(!1===e.detectIframe),capture:Boolean(e.capture)}}(t.value),r=i.handler,l=i.middleware,s=i.detectIframe,c=i.capture;if(i.isActive){if(e[n]=i.events.map((function(t){return{event:t,srcTarget:document.documentElement,handler:function(t){return function(e){var t=e.el,n=e.event,i=e.handler,r=e.middleware,o=n.path||n.composedPath&&n.composedPath();(o?o.indexOf(t)<0:!t.contains(n.target))&&a({event:n,handler:i,middleware:r})}({el:e,event:t,handler:r,middleware:l})},capture:c}})),s){var d={event:"blur",srcTarget:window,handler:function(t){return function(e){var t=e.el,n=e.event,i=e.handler,r=e.middleware;setTimeout((function(){var e=document.activeElement;e&&"IFRAME"===e.tagName&&!t.contains(e)&&a({event:n,handler:i,middleware:r})}),0)}({el:e,event:t,handler:r,middleware:l})},capture:c};e[n]=[].concat(e[n],[d])}e[n].forEach((function(t){var i=t.event,r=t.srcTarget,o=t.handler;return setTimeout((function(){e[n]&&r.addEventListener(i,o,c)}),0)}))}},s=function(e){(e[n]||[]).forEach((function(e){return e.srcTarget.removeEventListener(e.event,e.handler,e.capture)})),delete e[n]},c=i?{beforeMount:l,updated:function(e,t){var n=t.value,i=t.oldValue;JSON.stringify(n)!==JSON.stringify(i)&&(s(e),l(e,{value:n}))},unmounted:s}:{},{install:function(e){e.directive("click-outside",c)},directive:c})},o(l={path:a,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&l.path)}},l.exports),l.exports),c=s,d={class:"v3ti-loader-wrapper"},u=[e.createElementVNode("div",{class:"v3ti-loader"},null,-1),e.createElementVNode("span",null,"Loading",-1)];function p(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}p(".v3ti-loader-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #112B3C;\n}\n.v3ti-loader-wrapper .v3ti-loader {\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  display: inline-block;\n  border-top: 2px solid #112B3C;\n  border-right: 2px solid transparent;\n  box-sizing: border-box;\n  animation: rotation 0.8s linear infinite;\n  margin-right: 8px;\n}\n@keyframes rotation {\n0% {\n    transform: rotate(0deg);\n}\n100% {\n    transform: rotate(360deg);\n}\n}");var f={render:function(t,n){return e.openBlock(),e.createElementBlock("div",d,u)}},h={name:"Vue3TagsInput",emits:["update:modelValue","update:tags","on-limit","on-tags-changed","on-remove","on-error","on-focus","on-blur","on-select","on-select-duplicate-tag"],props:{readOnly:{type:Boolean,default:!1},modelValue:{type:String,default:""},validate:{type:[String,Function,Object],default:""},addTagOnKeys:{type:Array,default:function(){return[13,188,32]}},placeholder:{type:String,default:""},tags:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},limit:{type:Number,default:-1},allowDuplicates:{type:Boolean,default:!1},addTagOnBlur:{type:Boolean,default:!1},selectItems:{type:Array,default:function(){return[]}},select:{type:Boolean,default:!1},duplicateSelectItem:{type:Boolean,default:!0},uniqueSelectField:{type:String,default:"id"}},components:{Loading:f},directives:{clickOutside:c.directive},data:function(){return{isInputActive:!1,isError:!1,newTag:"",innerTags:[],multiple:!1}},computed:{isLimit:function(){var e=this.limit>0&&Number(this.limit)===this.innerTags.length;return e&&this.$emit("on-limit"),e},selectedItemsIds:function(){var e=this;return this.duplicateSelectItem?[]:this.tags.map((function(t){return t[e.uniqueSelectField]||""}))}},watch:{error:function(){this.isError=this.error},modelValue:{immediate:!0,handler:function(e){this.newTag=e}},tags:{deep:!0,immediate:!0,handler:function(e){this.innerTags=n(e)}},newTag:function(){this.newTag.length>50&&(this.$refs.inputTag.className="v3ti-new-tag v3ti-new-tag--error",this.$refs.inputTag.style.textDecoration="underline")}},methods:{isShot:function(e){return!!this.$slots[e]},makeItNormal:function(e){this.$emit("update:modelValue",e.target.value),this.$refs.inputTag.className="v3ti-new-tag",this.$refs.inputTag.style.textDecoration="none"},resetData:function(){this.innerTags=[]},resetInputValue:function(){this.newTag="",this.$emit("update:modelValue","")},setPosition:function(){var e=this.$refs.inputBox,t=this.$refs.contextMenu;if(e&&t){t.style.display="block";var n=e.clientHeight||32;t.style.top=n+3+"px"}},closeContextMenu:function(){this.$refs.contextMenu&&(this.$refs.contextMenu.style={display:"none"})},handleSelect:function(e){var t=this;if(this.isShowCheckmark(e)){var n=this.tags.filter((function(t){return e.id!==t.id}));this.$emit("update:tags",n),this.$emit("on-select-duplicate-tag",e),this.resetInputValue()}else this.$emit("on-select",e);this.$nextTick((function(){t.closeContextMenu()}))},isShowCheckmark:function(e){return!this.duplicateSelectItem&&this.selectedItemsIds.includes(e[this.uniqueSelectField])},focusNewTag:function(){this.select&&!this.disabled&&this.setPosition(),!this.readOnly&&this.$el.querySelector(".v3ti-new-tag")&&this.$el.querySelector(".v3ti-new-tag").focus()},handleInputFocus:function(e){this.isInputActive=!0,this.$emit("on-focus",e)},handleInputBlur:function(e){this.isInputActive=!1,this.addNew(e),this.$emit("on-blur",e)},addNew:function(e){if(!this.select){var t=!e||-1!==this.addTagOnKeys.indexOf(e.keyCode),n=e&&"blur"!==e.type;(t||!n&&this.addTagOnBlur)&&!this.isLimit&&(this.newTag&&(this.allowDuplicates||-1===this.innerTags.indexOf(this.newTag))&&this.validateIfNeeded(this.newTag)&&this.newTag.length<=50?(this.innerTags.push(this.newTag),this.resetInputValue(),this.tagChange(),e&&e.preventDefault()):(this.validateIfNeeded(this.newTag)?this.newTag&&this.newTag.length<=50?this.makeItError(!0):this.makeItError("maxLength"):this.makeItError(!1),e&&e.preventDefault()))}},makeItError:function(e){this.$refs.inputTag.className="v3ti-new-tag v3ti-new-tag--error",this.$refs.inputTag.style.textDecoration="underline",this.$emit("on-error",e)},validateIfNeeded:function(e){return""===this.validate||void 0===this.validate||("function"!=typeof this.validate||this.validate(e))},removeLastTag:function(){this.newTag||(this.innerTags.pop(),this.tagChange())},remove:function(e){this.innerTags.splice(e,1),this.tagChange(),this.$emit("on-remove",e)},tagChange:function(){this.$emit("on-tags-changed",this.innerTags)}}},m={key:1},v=["onClick"],g=["placeholder"],y={key:0,class:"v3ti-context-menu",ref:"contextMenu"},x={key:0,class:"v3ti-loading"},w={key:1,class:"v3ti-no-data"},k={key:1},b={key:2},T=["onClick"],B={class:"v3ti-context-item--label"},I={key:0,class:"v3ti-icon-selected-tag",width:"44",height:"44",viewBox:"0 0 24 24","stroke-width":"1.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},E=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),e.createElementVNode("path",{d:"M5 12l5 5l10 -10"},null,-1)];p('.v3ti {\n  border-radius: 5px;\n  min-height: 32px;\n  line-height: 1.4;\n  background-color: #fff;\n  border: 1px solid #9ca3af;\n  cursor: text;\n  text-align: left;\n  -webkit-appearance: textfield;\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n}\n.v3ti .v3ti-icon-selected-tag {\n  stroke: #19be6b;\n  width: 1rem;\n  height: 1rem;\n  margin-left: 4px;\n}\n.v3ti--focus {\n  outline: 0;\n  border-color: #000000;\n  box-shadow: 0 0 0 1px #000000;\n}\n.v3ti--error {\n  border-color: #F56C6C;\n}\n.v3ti .v3ti-no-data {\n  color: #d8d8d8;\n  text-align: center;\n  padding: 4px 7px;\n}\n.v3ti .v3ti-loading {\n  padding: 4px 7px;\n  text-align: center;\n}\n.v3ti .v3ti-context-menu {\n  max-height: 150px;\n  min-width: 150px;\n  overflow: auto;\n  display: none;\n  outline: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  margin: 0;\n  padding: 5px 0;\n  background: #ffffff;\n  z-index: 1050;\n  color: #475569;\n  box-shadow: 0 3px 8px 2px rgba(0, 0, 0, 0.1);\n  border-radius: 0 0 6px 6px;\n}\n.v3ti .v3ti-context-menu .v3ti-context-item {\n  padding: 4px 7px;\n  display: flex;\n  align-items: center;\n}\n.v3ti .v3ti-context-menu .v3ti-context-item:hover {\n  background: #e8e8e8;\n  cursor: pointer;\n}\n.v3ti .v3ti-context-menu .v3ti-context-item--label {\n  flex: 1;\n  min-width: 1px;\n}\n.v3ti .v3ti-context-menu .v3ti-context-item--active {\n  color: #317CAF;\n}\n.v3ti .v3ti-content {\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n}\n.v3ti .v3ti-content--select {\n  padding-right: 30px;\n}\n.v3ti .v3ti-tag {\n  display: flex;\n  font-weight: 400;\n  margin: 3px;\n  padding: 0 5px;\n  background: #317CAF;\n  color: #ffffff;\n  height: 27px;\n  border-radius: 5px;\n  align-items: center;\n}\n.v3ti .v3ti-tag .v3ti-remove-tag {\n  color: #ffffff;\n  transition: opacity 0.3s ease;\n  opacity: 0.5;\n  cursor: pointer;\n  padding: 0 5px 0 7px;\n}\n.v3ti .v3ti-tag .v3ti-remove-tag::before {\n  content: "x";\n}\n.v3ti .v3ti-tag .v3ti-remove-tag:hover {\n  opacity: 1;\n}\n.v3ti .v3ti-new-tag {\n  background: transparent;\n  border: 0;\n  font-weight: 400;\n  margin: 3px;\n  outline: none;\n  padding: 0 4px;\n  flex: 1;\n  min-width: 60px;\n  height: 27px;\n}\n.v3ti .v3ti-new-tag--error {\n  color: #F56C6C;\n}'),h.render=function(t,n,i,r,o,a){var l=e.resolveComponent("Loading"),s=e.resolveDirective("click-outside");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{onClick:n[6]||(n[6]=function(e){return a.focusNewTag()}),class:e.normalizeClass([{"v3ti--focus":o.isInputActive,"v3ti--error":o.isError},"v3ti"])},[e.createElementVNode("div",{class:e.normalizeClass(["v3ti-content",{"v3ti-content--select":i.select}]),ref:"inputBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.innerTags,(function(n,r){return e.openBlock(),e.createElementBlock("span",{key:r,class:"v3ti-tag"},[a.isShot("item")?e.renderSlot(t.$slots,"item",e.normalizeProps(e.mergeProps({key:0},{name:n,index:r,tag:n}))):(e.openBlock(),e.createElementBlock("span",m,e.toDisplayString(n),1)),i.readOnly?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("a",{key:2,onClick:e.withModifiers((function(e){return a.remove(r)}),["prevent","stop"]),class:"v3ti-remove-tag"},null,8,v))])})),128)),e.withDirectives(e.createElementVNode("input",{ref:"inputTag",placeholder:i.placeholder,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.newTag=e}),onKeydown:[n[1]||(n[1]=e.withKeys(e.withModifiers((function(){return a.removeLastTag&&a.removeLastTag.apply(a,arguments)}),["stop"]),["delete"])),n[2]||(n[2]=function(){return a.addNew&&a.addNew.apply(a,arguments)})],onBlur:n[3]||(n[3]=function(){return a.handleInputBlur&&a.handleInputBlur.apply(a,arguments)}),onFocus:n[4]||(n[4]=function(){return a.handleInputFocus&&a.handleInputFocus.apply(a,arguments)}),onInput:n[5]||(n[5]=function(){return a.makeItNormal&&a.makeItNormal.apply(a,arguments)}),class:"v3ti-new-tag"},null,40,g),[[e.vModelText,o.newTag]])],2),i.select?(e.openBlock(),e.createElementBlock("section",y,[i.loading?(e.openBlock(),e.createElementBlock("div",x,[a.isShot("loading")?e.renderSlot(t.$slots,"default",{key:0}):(e.openBlock(),e.createBlock(l,{key:1}))])):e.createCommentVNode("",!0),i.loading||0!==i.selectItems.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",w,[a.isShot("no-data")?e.renderSlot(t.$slots,"no-data",{key:0}):(e.openBlock(),e.createElementBlock("span",k," No data "))])),!i.loading&&i.selectItems.length>0?(e.openBlock(),e.createElementBlock("div",b,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.selectItems,(function(n,i){return e.openBlock(),e.createElementBlock("div",{key:i,class:e.normalizeClass(["v3ti-context-item",{"v3ti-context-item--active":a.isShowCheckmark(n)}]),onClick:e.withModifiers((function(e){return a.handleSelect(n,i)}),["stop"])},[e.createElementVNode("div",B,[e.renderSlot(t.$slots,"select-item",e.normalizeProps(e.guardReactiveProps(n)))]),a.isShowCheckmark(n)?(e.openBlock(),e.createElementBlock("svg",I,E)):e.createCommentVNode("",!0)],10,T)})),128))])):e.createCommentVNode("",!0)],512)):e.createCommentVNode("",!0)],2)),[[s,a.closeContextMenu]])};var C=function(){var e=h;return e.install=function(t){t.component("Vue3TagsInput",e)},e}(),S=Object.freeze({__proto__:null,default:C});return Object.entries(S).forEach((function(e){var n=t(e,2),i=n[0],r=n[1];"default"!==i&&(C[i]=r)})),C}(Vue);